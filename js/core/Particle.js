class Particle{constructor(x,y,mass=1,radius=5){this.id='p_'+(Math.random().toString(36).substr(2,9));this.position=new Vector2(x,y);this.lastPosition=new Vector2(x,y);this.velocity=new Vector2(0,0);this.acceleration=new Vector2(0,0);this.mass=mass;this.invMass=mass>0?1/mass:0;this.radius=radius;this.color=`hsl(${Math.random()*360}, 80%, 60%)`;}applyForce(force){this.acceleration.add(Vector2.multiply(force,this.invMass));}update(dt){const dtSq=dt*dt;this.velocity.x=this.position.x-this.lastPosition.x;this.velocity.y=this.position.y-this.lastPosition.y;this.lastPosition.set(this.position.x,this.position.y);const displacement=new Vector2(this.velocity.x,this.velocity.y);const accelTerm=new Vector2(this.acceleration.x*dtSq,this.acceleration.y*dtSq);this.position.add(displacement).add(accelTerm);this.acceleration.set(0,0);}getVelocity(){return Vector2.subtract(this.position,this.lastPosition);}}
